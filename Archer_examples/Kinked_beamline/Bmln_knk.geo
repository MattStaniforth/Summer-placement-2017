
//+
Point(1) = {0, 0, 0, 10};
//+
Point(2) = {0, 2, 0, 10};
//+
Point(3) = {2, 2, 0, 10};
//+
Point(4) = {2, 0, 0, 10};
//+
Point(5) = {0, 0, 20, 10};
//+
Point(6) = {0, 2, 20, 10};
//+
Point(7) = {2, 2, 20, 10};
//+
Point(8) = {2, 0, 20, 10};
//+
Point(9) = {5.17638, 0, 39.31852, 10};
//+
Point(10) = {5.17638, 2, 39.31852, 10};
//+
Point(11) = {7.17638, 2, 39.31852, 10};
//+
Point(12) = {7.17638, 0, 39.31852, 10};
//+
Point(13) = {0.5, 0.5, 0, 5.0};
//+
Point(14) = {0.5, 1.5, 0, 5.0};
//+
Point(15) = {1.5, 1.5, 0, 5.0};
//+
Point(16) = {1.5, 0.5, 0, 5.0};
//+
Point(17) = {0.5, 0.5, 20, 5.0};
//+
Point(18) = {0.5, 1.5, 20, 5.0};
//+
Point(19) = {1.5, 1.5, 20, 5.0};
//+
Point(20) = {1.5, 0.5, 20, 5.0};
//+
Point(21) = {5.6738, 0.5, 39.31852, 5.0};
//+
Point(22) = {5.6738, 1.5, 39.31852, 5.0};
//+
Point(23) = {6.6738, 1.5, 39.31852, 5.0};
//+
Point(24) = {6.6738, 0.5, 39.31852, 5.0};
//+
Point(25) = {0.75, 0.75, 0, 2.0};
//+
Point(26) = {0.75, 1.25, 0, 2.0};
//+
Point(27) = {1.25, 1.25, 0, 2.0};
//+
Point(28) = {1.25, 0.75, 0, 2.0};
//+
Point(29) = {0.75, 0.75, 20, 2.0};
//+
Point(30) = {0.75, 1.25, 20, 2.0};
//+
Point(31) = {1.25, 1.25, 20, 2.0};
//+
Point(32) = {1.25, 0.75, 20, 2.0};
//+
Point(33) = {5.92638, 0.75, 39.31852, 2.0};
//+
Point(34) = {5.92638, 1.25, 39.31852, 2.0};
//+
Point(35) = {6.42638, 1.25, 39.31852, 2.0};
//+
Point(36) = {6.42638, 0.75, 39.31852, 2.0};
//+
Point(37) = {0.8, 0.8, 0, 1.0};
//+
Point(38) = {0.8, 1.2, 0, 1.0};
//+
Point(39) = {1.2, 1.2, 0, 1.0};
//+
Point(40) = {1.2, 0.8, 0, 1.0};
//+
Point(41) = {0.8, 0.8, 20, 1.0};
//+
Point(42) = {0.8, 1.2, 20, 1.0};
//+
Point(43) = {1.2, 1.2, 20, 1.0};
//+
Point(44) = {1.2, 0.8, 20, 1.0};
//+
Point(45) = {5.97638, 0.8, 39.31852, 1.0};
//+
Point(46) = {5.97638, 1.2, 39.31852, 1.0};
//+
Point(47) = {6.37638, 1.2, 39.31852, 1.0};
//+
Point(48) = {6.37638, 0.8, 39.31852, 1.0};
//+
Line(1) = {1, 2};
//+
Line(2) = {2, 3};
//+
Line(3) = {3, 4};
//+
Line(4) = {4, 1};
//+
Line(5) = {5, 6};
//+
Line(6) = {6, 7};
//+
Line(7) = {7, 8};
//+
Line(8) = {8, 5};
//+
Line(9) = {9, 10};
//+
Line(10) = {10, 11};
//+
Line(11) = {11, 12};
//+
Line(12) = {12, 9};
//+
Line(13) = {13, 14};
//+
Line(14) = {14, 15};
//+
Line(15) = {15, 16};
//+
Line(16) = {16, 13};
//+
Line(17) = {17, 18};
//+
Line(18) = {18, 19};
//+
Line(19) = {19, 20};
//+
Line(20) = {20, 17};
//+
Line(21) = {21, 22};
//+
Line(22) = {22, 23};
//+
Line(23) = {23, 24};
//+
Line(24) = {24, 21};
//+
Line(25) = {25, 26};
//+
Line(26) = {26, 27};
//+
Line(27) = {27, 28};
//+
Line(28) = {28, 25};
//+
Line(29) = {29, 30};
//+
Line(30) = {30, 31};
//+
Line(31) = {31, 32};
//+
Line(32) = {32, 29};
//+
Line(33) = {33, 34};
//+
Line(34) = {34, 35};
//+
Line(35) = {35, 36};
//+
Line(36) = {36, 33};
//+
Line(37) = {37, 38};
//+
Line(38) = {38, 39};
//+
Line(39) = {39, 40};
//+
Line(40) = {40, 37};
//+
Line(41) = {41, 42};
//+
Line(42) = {42, 43};
//+
Line(43) = {43, 44};
//+
Line(44) = {44, 41};
//+
Line(45) = {45, 46};
//+
Line(46) = {46, 47};
//+
Line(47) = {47, 48};
//+
Line(48) = {48, 45};
//+
Line(49) = {1, 5};
//+
Line(50) = {5, 9};
//+
Line(51) = {2, 6};
//+
Line(52) = {6, 10};
//+
Line(53) = {3, 7};
//+
Line(54) = {7, 11};
//+
Line(55) = {4, 8};
//+
Line(56) = {8, 12};
//+
Line(57) = {13, 17};
//+
Line(58) = {17, 21};
//+
Line(59) = {16, 20};
//+
Line(60) = {20, 24};
//+
Line(61) = {15, 19};
//+
Line(62) = {19, 23};
//+
Line(63) = {14, 18};
//+
Line(64) = {18, 22};
//+
Line(65) = {25, 29};
//+
Line(66) = {29, 33};
//+
Line(67) = {26, 30};
//+
Line(68) = {30, 34};
//+
Line(69) = {27, 31};
//+
Line(70) = {31, 35};
//+
Line(71) = {28, 32};
//+
Line(72) = {32, 36};
//+
Line(73) = {37, 41};
//+
Line(74) = {41, 45};
//+
Line(75) = {38, 42};
//+
Line(76) = {42, 46};
//+
Line(77) = {39, 43};
//+
Line(78) = {43, 47};
//+
Line(79) = {40, 44};
//+
Line(80) = {44, 48};
//+
Line Loop(1) = {1, 2, 3, 4};
//+
Line Loop(2) = {13, 14, 15, 16};
//+
Plane Surface(1) = {1, 2};
//+
Line Loop(3) = {25, 26, 27, 28};
//+
Plane Surface(2) = {2, 3};
//+
Line Loop(4) = {37, 38, 39, 40};
//+
Plane Surface(3) = {3, 4};
//+
Plane Surface(4) = {4};
//+
Line Loop(5) = {5, 6, 7, 8};
//+
Line Loop(6) = {17, 18, 19, 20};
//+
Plane Surface(5) = {5, 6};
//+
Line Loop(7) = {29, 30, 31, 32};
//+
Plane Surface(6) = {6, 7};
//+
Line Loop(8) = {41, 42, 43, 44};
//+
Plane Surface(7) = {7, 8};
//+
Plane Surface(8) = {8};
//+
Line Loop(9) = {9, 10, 11, 12};
//+
Line Loop(10) = {21, 22, 23, 24};
//+
Plane Surface(9) = {9, 10};
//+
Line Loop(11) = {33, 34, 35, 36};
//+
Plane Surface(10) = {10, 11};
//+
Line Loop(12) = {45, 46, 47, 48};
//+
Plane Surface(11) = {11, 12};
//+
Plane Surface(12) = {12};
//+
Line Loop(13) = {1, 51, -5, -49};
//+
Plane Surface(13) = {13};
//+
Line Loop(14) = {5, 52, -9, -50};
//+
Plane Surface(14) = {14};
//+
Line Loop(15) = {2, 53, -6, -51};
//+
Plane Surface(15) = {15};
//+
Line Loop(16) = {6, 54, -10, -52};
//+
Plane Surface(16) = {16};
//+
Line Loop(17) = {3, 55, -7, -53};
//+
Plane Surface(17) = {17};
//+
Line Loop(18) = {7, 56, -11, -54};
//+
Plane Surface(18) = {18};
//+
Line Loop(19) = {4, 49, -8, -55};
//+
Plane Surface(19) = {19};
//+
Line Loop(20) = {8, 50, -12, -56};
//+
Plane Surface(20) = {20};
//+
Line Loop(21) = {13, 63, -17, -57};
//+
Plane Surface(21) = {21};
//+
Line Loop(25) = {17, 64, -21, -58};
//+
Plane Surface(25) = {25};
//+
Line Loop(22) = {14, 61, -18, -63};
//+
Plane Surface(22) = {22};
//+
Line Loop(26) = {18, 62, -22, -64};
//+
Plane Surface(26) = {26};
//+
Line Loop(23) = {15, 59, -19, -61};
//+
Plane Surface(23) = {23};
//+
Line Loop(27) = {19, 60, -23, -62};
//+
Plane Surface(27) = {27};
//+
Line Loop(24) = {16, 57, -20, -59};
//+
Plane Surface(24) = {24};
//+
Line Loop(28) = {20, 58, -24, -60};
//+
Plane Surface(28) = {28};
//+
Line Loop(29) = {25, 67, -29, -65};
//+
Plane Surface(29) = {29};
//+
Line Loop(30) = {29, 68, -33, -66};
//+
Plane Surface(30) = {30};
//+
Line Loop(31) = {26, 69, -30, -67};
//+
Plane Surface(31) = {31};
//+
Line Loop(32) = {30, 70, -34, -68};
//+
Plane Surface(32) = {32};
//+
Line Loop(33) = {27, 71, -31, -69};
//+
Plane Surface(33) = {33};
//+
Line Loop(34) = {31, 72, -35, -70};
//+
Plane Surface(34) = {34};
//+
Line Loop(35) = {28, 65, -32, -71};
//+
Plane Surface(35) = {35};
//+
Line Loop(36) = {32, 66, -36, -72};
//+
Plane Surface(36) = {36};
//+
Line Loop(37) = {37, 75, -41, -73};
//+
Plane Surface(37) = {37};
//+
Line Loop(38) = {41, 76, -45, -74};
//+
Plane Surface(38) = {38};
//+
Line Loop(39) = {38, 77, -42, -75};
//+
Plane Surface(39) = {39};
//+
Line Loop(40) = {42, 78, -46, -76};
//+
Plane Surface(40) = {40};
//+
Line Loop(41) = {39, 79, -43, -77};
//+
Plane Surface(41) = {41};
//+
Line Loop(42) = {43, 80, -47, -78};
//+
Plane Surface(42) = {42};
//+
Line Loop(43) = {40, 73, -44, -79};
//+
Plane Surface(43) = {43};
//+
Line Loop(44) = {44, 74, -48, -80};
//+
Plane Surface(44) = {44};
//+
Surface Loop(1) = {13, 1, 15, 17, 19, 5, 21, 22, 23, 24};
//+
Volume(1) = {1};
//+
Surface Loop(2) = {21, 22, 23, 24, 2, 6, 29, 31, 33, 35};
//+
Volume(2) = {2};
//+
Surface Loop(3) = {29, 31, 33, 35, 7, 3, 37, 39, 41, 43};
//+
Volume(3) = {3};
//+
Surface Loop(4) = {39, 41, 43, 37, 4, 8};
//+
Volume(4) = {4};
//+
Surface Loop(5) = {16, 18, 20, 14, 9, 5, 27, 28, 25, 26};
//+
Volume(5) = {5};
//+
Surface Loop(6) = {25, 26, 27, 28, 6, 30, 32, 34, 36, 10};
//+
Volume(6) = {6};
//+
Surface Loop(7) = {30, 32, 34, 36, 7, 38, 40, 42, 44, 11};
//+
Volume(7) = {7};
//+
Surface Loop(8) = {38, 40, 42, 44, 8, 12};
//+
Volume(8) = {8};
//+
//Physical Surface(1) = {1};
//+
//Physical Surface(2) = {2};
//+
//Physical Surface(3) = {3};
//+
//Physical Surface(4) = {4}; //Source
//+
//Physical Surface(5) = {9};
//+
//Physical Surface(6) = {10};
//+
//Physical Surface(7) = {11};
//+
//Physical Surface(8) = {12}; //Detector
//+
//Physical Surface(9) = {13};
//+
//Physical Surface(10) = {14};
//+
//Physical Surface(11) = {15};
//+
//Physical Surface(12) = {16};
//+
//Physical Surface(13) = {17};
//+
//Physical Surface(14) = {18};
//+
//Physical Surface(15) = {19};
//+
//Physical Surface(16) = {20};

Physical Volume(21) = {5}; //Outer shielding detector end
Physical Volume(22) = {6}; //Vacuum detector end
Physical Volume(23) = {7}; //Guide detector end
Physical Volume(24) = {8}; //Beamline detector end
Point(49) = {0.85, 0.85, 0.05, 1.0};
Point(50) = {0.85, 1.15, 0.05, 1.0};
Point(51) = {1.15, 1.15, 0.05, 1.0};
Point(52) = {1.15, 0.85, 0.05, 1.0};
Point(53) = {0.85, 0.85, 0.35, 1.0};
Point(54) = {0.85, 1.15, 0.35, 1.0};
Point(55) = {1.15, 1.15, 0.35, 1.0};
Point(56) = {1.15, 0.85, 0.35, 1.0};
Line(81) = {53, 54};
Line(82) = {54, 55};
Line(83) = {55, 56};
Line(84) = {56, 53};
Line(85) = {49, 50};
Line(86) = {50, 51};
Line(87) = {51, 52};
Line(88) = {52, 49};
Line(89) = {49, 53};
Line(90) = {50, 54};
Line(91) = {51, 55};
Line(92) = {52, 56};
Line Loop(93) = {85, 90, -81, -89};
Plane Surface(94) = {93};
Line Loop(95) = {86, 91, -82, -90};
Plane Surface(96) = {95};
Line Loop(97) = {87, 92, -83, -91};
Plane Surface(98) = {97};
Line Loop(99) = {88, 89, -84, -92};
Plane Surface(100) = {99};
Line Loop(101) = {81, 82, 83, 84};
Plane Surface(102) = {101};
Line Loop(103) = {85, 86, 87, 88};
Plane Surface(104) = {103};
Surface Loop(105) = {94, 104, 96, 98, 100, 102};
Volume(106) = {105};
Delete {
  Volume{1};
}
Delete {
  Volume{2};
}
Delete {
  Volume{3};
}
Delete {
  Volume{4};
}
Volume(108) = {4, 105};
Volume(109) = {3};
Volume(110) = {2};
Volume(111) = {1};
Physical Volume(112) = {106}; //src cube
Physical Volume(113) = {108}; //Beamline region 1
Physical Volume(114) = {109}; //Guide region 1
Physical Volume(115) = {110}; //Vacuum region 1
Physical Volume(116) = {111}; //Outer shield region 1

Physical Surface(117) = {20, 14, 16, 18, 19, 13, 15, 17, 9, 10, 11, 12, 1, 2, 3, 4};
